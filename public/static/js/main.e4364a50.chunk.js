(this.webpackJsonpmovifetch_v4=this.webpackJsonpmovifetch_v4||[]).push([[0],[,,,,function(e,t,n){e.exports={container:"Film_container__3wPvb",infos:"Film_infos__3vhLP",popularity:"Film_popularity__2UObS",overview:"Film_overview__2DF0J",add:"Film_add__1bKd7"}},,,function(e,t,n){e.exports={container:"Input_container__1B-CD"}},function(e,t,n){e.exports={film:"FilmCard_film__33zMQ"}},function(e,t,n){e.exports={home:"Home_home__2E20P"}},function(e,t,n){e.exports={container:"MyFilms_container__3efzV"}},,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){e.exports={App:"App_App__3RbLa",pages:"App_pages__NUR_0"}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),i=n.n(o),c=(n(17),n(18),function(){return r.a.createElement("header",null,r.a.createElement("h1",null,r.a.createElement("a",{href:"#home"},"mov!",r.a.createElement("span",null,"F"),"etch")))}),l=n(11),s=n(1),u=n(2),m=n.n(u),p=n(3),f=n(7),d=n.n(f),h=function(e){return r.a.createElement("div",{className:d.a.container},r.a.createElement("input",{type:"text",onKeyPress:e.handleKeyPress,placeholder:"Rechercher un film"}))},v=n(8),g=n.n(v),w=function(e){return r.a.createElement("div",{className:g.a.film,onClick:function(t){return e.onClick(t,e.id)}},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original"+e.img,alt:"Poster"}),r.a.createElement("div",null,r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.body)))},E=function(e){console.log("From Results: ",e);return r.a.createElement("div",{className:"results"},e.films.map((function(t){return r.a.createElement(w,{key:t.id,id:t.id,title:t.title,img:t.poster_path,body:t.overview,onClick:e.onClick})})))},_=n(9),b=n.n(_),y=[];function k(e){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/".concat(t),e.next=3,fetch(n).catch((function(e){return console.log(e)}));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){var t=Object(a.useState)(y),n=Object(s.a)(t,2),o=n[0],i=n[1],c=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=7;break}return n=t.target.value,e.next=4,k(n);case 4:a=e.sent,i(a.results),y=a.results;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:b.a.home},r.a.createElement(h,{handleKeyPress:c}),r.a.createElement(E,{films:o,onClick:e.onClick}))};function j(e){var t=JSON.parse(window.localStorage.getItem(e));return null===t?console.error("!ERROR! No collection of this name found"):t}function F(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)}var N=n(4),R=n.n(N);function C(e){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/film/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],i=n[1],c=function(){var t=Object(p.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.id);case 2:n=t.sent,i(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();0===o.length&&c();var l=function(e,t){!function(e,t){var n=j(e);0!==n.filter((function(e){return e.id===t.id})).length?console.error("!ERROR! Item already exist in the collection, use updateItem instead"):(n.push(t),F(e,n))}("Films",{id:t.id,body:t})};return r.a.createElement("div",{className:R.a.container},r.a.createElement("h1",null,o.original_title),r.a.createElement("p",{className:R.a.add,onClick:function(e){return l(0,o)}},"+"),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(o.backdrop_path),alt:""}),function(){var e="";return void 0!==o.genres&&(e=o.genres.map((function(e){return"/ "+e.name+" /"})).concat(),console.log(e)),r.a.createElement("p",null,e)}(),r.a.createElement("div",{className:R.a.infos},r.a.createElement("p",null,"Release date : ",r.a.createElement("br",null),o.release_date),r.a.createElement("p",null,"Status : ",o.status," "),r.a.createElement("p",{className:R.a.popularity},r.a.createElement("br",null),o.popularity," *"),r.a.createElement("p",null,"Original language : ",o.original_language," ")),r.a.createElement("p",{className:R.a.overview},o.overview))},P=n(10),A=n.n(P),J=function(){var e;Boolean(j("Films"))||(e="Films",null!==window.localStorage.getItem(e)?console.error("!ERROR! A collection with this name already exist"):window.localStorage.setItem(e,"[]"));var t=Object(a.useState)(j("Films")),n=Object(s.a)(t,2),o=n[0],i=n[1],c=function(e,t){!function(e,t){var n=j(e).filter((function(e){return e.id!==t}));F(e,n)}("Films",t),i(j("Films"))},l=o.map((function(e){return console.log(e),r.a.createElement(w,{key:e.id,id:e.id,title:e.body.title,img:e.body.poster_path,body:e.body.overview,onClick:c})}));return r.a.createElement("div",{className:A.a.container},l)};var B=function(){var e,t,n=Object(a.useState)(window.location.hash),o=Object(s.a)(n,2),i=o[0],c=o[1],u=Object(a.useState)([{hash:"#home",page:r.a.createElement(O,{onClick:function(e,t){var n=Object(l.a)(p);n[1].page=r.a.createElement(I,{id:t}),f(n),window.location.hash="#film",c("#film")}})},{hash:"#film",page:r.a.createElement(I,null)},{hash:"#myfilms",page:r.a.createElement(J,null)}]),m=Object(s.a)(u,2),p=m[0],f=m[1];function d(e){c(window.location.hash)}""!==i&&void 0!==i||(window.location.hash="#home",c(window.location.hash)),e=d,window.removeEventListener("hashchange",e),t=d,window.addEventListener("hashchange",t);return r.a.createElement("div",{className:"pages"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexDirection:"row",width:"100%",marginTop:".5rem"}},p.map((function(e){return e.hash})).map((function(e){if("#film"!==e)return r.a.createElement("button",{key:e,onClick:function(t){return function(e,t){var n=t;window.location.hash=t,c(n)}(0,e)}},e)}))),function(){var e=p.filter((function(e){return e.hash===i})),t=Object(s.a)(e,1)[0];if(console.log(t),void 0!==t)return t.page}())};n(20);var K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.e4364a50.chunk.js.map